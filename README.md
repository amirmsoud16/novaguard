# novaguard server

## نصب و راه‌اندازی سرور

1. نصب پایتون 3.8 یا بالاتر (در صورت نیاز)
2. نصب وابستگی‌های پایتون:
```sh
pip install -r requirements.txt
```

3. تولید گواهی self-signed:
```sh
bash generate_cert.sh
```

4. اجرای سرور:
```sh
python server.py
```

5. پس از اجرا، یک Connection Code به فرمت زیر نمایش داده می‌شود:
```
ng://eyJzZXJ2ZXIiOiIxLjIuMy40IiwicG9ydCI6NDQzLCJmaW5nZXJwcmludCI6IkFCOkNEOkVGOjEyOjM0OjU2Ojc4OjkwIiwicHJvdG9jb2wiOiJub3ZhZ3VhcmQtdjEifQ==
```

این کد را می‌توانید کپی یا به صورت QR Code به کلاینت اندروید منتقل کنید.

---

## نکات مهم
- پورت سرور (پیش‌فرض 443) را می‌توانید در config.json تغییر دهید.
- مطمئن شوید پورت انتخابی روی فایروال سرور باز باشد.
- برای امنیت بیشتر، سرور را روی VPS یا سرور ابری با دسترسی root اجرا کنید.
- لاگ سرور را برای رفع خطاها بررسی کنید.

---

## راهنمای استفاده کلاینت اندروید

1. نصب APK کلاینت novaguard روی گوشی اندروید
2. وارد کردن یا اسکن Connection Code (ng://...)
3. ویرایش پورت در صورت نیاز
4. زدن دکمه Connect و مشاهده وضعیت اتصال
5. قطع اتصال با دکمه Disconnect
6. استفاده از دکمه Show QR برای نمایش QR Code و Scan QR برای اسکن با دوربین

---

## رفع خطاهای رایج
- اگر اتصال برقرار نشد:
  - پورت سرور را بررسی کنید
  - اینترنت سرور و کلاینت را بررسی کنید
  - اجازه دسترسی VPN و دوربین را به اپلیکیشن بدهید
  - لاگ سرور و کلاینت را برای پیام خطا بررسی کنید

---

## توسعه و بهینه‌سازی
- می‌توانید قابلیت‌های بیشتری مانند مدیریت چند سرور، انتخاب DNS، reconnect خودکار و ... را به کلاینت اضافه کنید.
- برای امنیت بیشتر، session key را به صورت امن بین کلاینت و سرور تبادل کنید (در نسخه فعلی کلید تصادفی است).
